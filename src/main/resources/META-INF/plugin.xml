<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <!-- Unique identifier of the plugin. It should be FQN. It cannot be changed between the plugin versions. -->
    <id>com.smallcloud.codify</id>

    <!-- Public plugin name should be written in Title Case.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-name -->
    <name>Codify</name>

    <!-- A displayed Vendor name or Organization ID displayed on the Plugins Page. -->
    <vendor email="info@smallcloud.ai" url="https://codify.smallcloud.ai">smallcloudai</vendor>

    <!-- Description of the plugin displayed on the Plugin Page and IDE Plugin Manager.
         Simple HTML elements (text formatting, paragraphs, and lists) can be added inside of <![CDATA[ ]]> tag.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-description -->
    <description><![CDATA[
<h2>Codify: The AI Assistant for Code Writing and Refactoring.</h2>
<p>Boost your productivity by employing AI to pair program with you or make more fun out of your work by delegating boring tasks to the AI.
</p>
<h3 style="margin-bottom:0"><b>Features:</b></h3>
<ul style="margin-top:5">
<li><b>Code Completion:</b> satisfying, smart and relevant code completion that can suggest whole functions or classes. It suggests commonly used programming patterns, libraries and APIs usage, and helps with typing. This helps you write code faster and with fewer errors.</li>
<br>
<li><b>Code Transformation:</b> use natural language commands to ask the AI to search, transform, or optimize your code. Whether you're looking to optimize, search, or refactor your code, Codify has you covered.</li>
<br>
<li><b>Privacy of your code guaranteed:</b> Codify allows you to restrict access to particular files or projects, ensuring that your private code or confidential files are protected. And we never store your code on the server side.</li>
<br>
<li><b>User-Friendly Interface:</b> Codify has a simple, user-friendly interface that makes it easy to use, even for those new to AI tools. Codify will assist by completing your code or by accessing the AI toolbox function (use F1 to open)</li>
<br>
<li><b>It’s fast!</b> And supports Python, Java, PHP, C++, Javascript, TypeScript and 20 more programming languages.</li>
</ul>
<br>
<p>Codify is a cutting-edge AI tool designed to assist developers in writing and refining code.
Whether you're working on a brand new project or modifying existing code, Codify can help you save time and streamline your coding process.</p>

<p>If you have your own NVIDIA GPU, you can try <a href="https://codify.smallcloud.ai/docker">the self-hosted version</a>.
Our proprietary <a href="https://www.smallcloud.ai/">AI model behind</a> Codify is state-of-the-art (for the size and latency). The weights are free to download on <a href="https://huggingface.co/smallcloudai">Huggingface</a>.
</p>
<h3><b>Crowdsourcing Human Feedback</b></h3>
<p>No one likes big corporations taking over our development toolchain, right? You can improve independent code tools like this one simply by turning your privacy settings to a relaxed position for some of your projects. We’ll tune the model to better follow YOUR commands and the tool will get better for everybody!</p>

<h5>IntelliSense, intelliCode, autocomplete, AI-assisted code completion, AI-powered code completion, AI copilot, AI code snippets, code suggestion, code prediction, chatGPT, code GPT, codeGPT, GPT</h5>
  ]]></description>


    <change-notes><![CDATA[
<h2>New Features</h2>
<p>An amazing release you should check out!</p>
<ul>
  <li>Completion now uses streaming</li>
  <li>Fine-grained privacy: now you can tell which files this plugin should never touch</li>
  <li>Highlight & Fix (press F1)</li>
  <li>Select & Refactor (select code and press F1)</li>
</ul>
<h2>Please Update Often</h2>
<p>The plugin in rapid development at this moment, older versions might not work properly.
We know updating sometimes is a hassle! Hopefully, the plugin will stabilize in a couple of months.
</p>
]]></change-notes>


    <!-- Product and plugin compatibility requirements.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html -->
    <depends>com.intellij.modules.platform</depends>

    <!-- Extension points defined by the plugin.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-extension-points.html -->
    <extensions defaultExtensionNs="com.intellij">
        <postStartupActivity implementation="com.smallcloud.codify.Initializer"/>
        <editorFactoryDocumentListener implementation="com.smallcloud.codify.listeners.DocumentListener"/>
        <editorFactoryListener implementation="com.smallcloud.codify.listeners.LastEditorGetterListener"/>
        <statusBarWidgetFactory implementation="com.smallcloud.codify.status_bar.SMCStatusBarWidgetFactory"/>
        <notificationGroup id="Codify Notification Group" displayType="BALLOON"/>
        <completion.contributor language="any"
                                implementationClass="com.smallcloud.codify.modes.completion.PopupCompletionContributor"
                                order="first"/>

        <projectConfigurable parentId="tools" instance="com.smallcloud.codify.settings.AppRootConfigurable"
                             id="codify_root"
                             displayName="Codify"/>
        <applicationConfigurable parentId="codify_root"
                                 instance="com.smallcloud.codify.settings.AppSettingsConfigurable"
                                 id="codify_advanced_settings"
                                 displayName="Advanced"/>
        <errorHandler implementation="com.smallcloud.codify.PluginErrorReportSubmitter"/>

        <actionPromoter implementation="com.smallcloud.codify.listeners.InlineActionsPromoter"/>
        <actionPromoter implementation="com.smallcloud.codify.listeners.DiffActionsPromoter"/>
        <actionPromoter implementation="com.smallcloud.codify.listeners.CancelActionsPromoter"/>

        <toolWindow id="Codify AI Toolbox" anchor="right" icon="/icons/codify_red_16x16.svg"
                    canCloseContents="true"
                    factoryClass="com.smallcloud.codify.panes.CodifyAiToolboxPaneFactory"/>

        <applicationService serviceImplementation="com.smallcloud.codify.settings.AppSettingsState"/>
        <applicationService serviceImplementation="com.smallcloud.codify.settings.PrivacyState"/>
        <applicationService serviceImplementation="com.smallcloud.codify.settings.ExtraState"/>

        <applicationService serviceImplementation="com.smallcloud.codify.statistic.StatisticService"/>
        <applicationService serviceImplementation="com.smallcloud.codify.statistic.ExtraInfoService"/>
        <applicationService serviceImplementation="com.smallcloud.codify.privacy.PrivacyService"/>
        <applicationService serviceImplementation="com.smallcloud.codify.account.LoginStateService"/>
        <applicationService serviceImplementation="com.smallcloud.codify.UsageStats"/>
        <applicationService serviceImplementation="com.smallcloud.codify.UpdateChecker"/>
        <applicationService serviceImplementation="com.smallcloud.codify.modes.diff.DiffIntentProvider"/>
        <applicationService serviceImplementation="com.smallcloud.codify.io.ConnectivityManager"/>
        <applicationService serviceImplementation="com.smallcloud.codify.io.ConnectionManager"/>
    </extensions>
    <actions>
        <action class="com.smallcloud.codify.listeners.TabPressedAction"
                id="TabPressedAction"
                text="Accept Inline Completion">
            <keyboard-shortcut first-keystroke="TAB" keymap="$default"/>
        </action>
        <action class="com.smallcloud.codify.listeners.CancelPressedAction"
                id="CancelPressedAction"
                text="Cancel Inline Completion">
            <keyboard-shortcut first-keystroke="ESCAPE" keymap="$default"/>
        </action>
        <action class="com.smallcloud.codify.listeners.ForceCompletionAction"
                id="ForceCompletionAction"
                text="Make A Force Completion">
            <keyboard-shortcut first-keystroke="alt SLASH" keymap="$default"/>
        </action>
        <action
                id="CodifyAIToolboxAction"
                class="com.smallcloud.codify.listeners.AIToolboxInvokeAction"
                text="Codify AI Toolbox"
                description="Codify AI Toolbox action">
            <keyboard-shortcut first-keystroke="F1" keymap="$default"/>
            <add-to-group group-id="ToolsMenu" anchor="last"/>
        </action>
        <group id="CodifyPrivacy" popup="true" class="com.smallcloud.codify.privacy.CodifyPrivacyGroupAction">
            <add-to-group group-id="EditorPopupMenu" anchor="last"/>
            <add-to-group group-id="EditorTabPopupMenu" anchor="last"/>
            <add-to-group group-id="ProjectViewPopupMenu" anchor="last"/>
        </group>
        <action
                id="ActivateCodifyAIToolboxToolWindow"
                class="com.smallcloud.codify.panes.gptchat.ChatGPTPaneInvokeAction">
            <keyboard-shortcut first-keystroke="control shift C" keymap="$default"/>
            <keyboard-shortcut first-keystroke="control shift C" keymap="Mac OS X" replace-all="true"/>
            <keyboard-shortcut first-keystroke="control shift C" keymap="Mac OS X 10.5+" replace-all="true"/>
        </action>
    </actions>
    <resource-bundle>bundles.Codify</resource-bundle>
    <applicationListeners>
        <listener class="com.smallcloud.codify.listeners.PluginListener"
                  topic="com.intellij.ide.plugins.DynamicPluginListener"
                  activeInHeadlessMode="true"
        />
    </applicationListeners>
</idea-plugin>
